% Template for typesetting my math homework at UWaterloo
% Based on https://github.com/francois-rozet/sleek-template, among other things
\ProvidesPackage{homework}[2023/10/17 Ravi Brock's Homework]

%%%%%%%%%%%%%%%%%%%%
% Sources packages %
%%%%%%%%%%%%%%%%%%%%

% Packages without options
\RequirePackage{amsmath,amssymb,amstext,amsthm}
\RequirePackage{cntperchap}
\RequirePackage{enumerate}
\RequirePackage{mathabx}
\RequirePackage{titlesec}
\RequirePackage{thmtools}
\RequirePackage{tocloft}
\RequirePackage{xcolor}

% Packages with options
\RequirePackage[nomessages]{fp}
\RequirePackage[margin=0.75in]{geometry}
\RequirePackage[hidelinks]{hyperref}
\RequirePackage[utf8]{inputenc}
\RequirePackage[most]{tcolorbox}

% Custom packages
\RequirePackage{body}
\RequirePackage{title}

%%%%%%%%%%%%
% Commands %
%%%%%%%%%%%%

% Miscellaneous
\newcommand{\ds}{\displaystyle}
\renewcommand{\qedsymbol}{$\blacksquare$}

% Change imply arrow styling (optional)
\renewcommand*{\implies}{\Rightarrow}
\renewcommand*{\impliedby}{\Leftarrow}
% \renewcommand*{\iff}{\Leftrightarrow}

% Limits and modulo
\newcommand{\Lim}[1]{\raisebox{0.5ex}{\scalebox{0.8}{$\displaystyle \lim_{#1}\;$}}}
\newcommand{\Mod}[1]{\ (\mathrm{mod}\ #1)}

% Blackboard bold
\def\R{{\mathbb R}}
\def\Z{{\mathbb Z}}
\def\N{{\mathbb N}}
\def\Q{{\mathbb Q}}
\def\C{{\mathbb C}}
\def\F{{\mathbb F}}

% Plaintext abbreviations in equations
\def\id{{\rm id}}
\def\im{{\rm im}}
\def\lcm{{\rm lcm}}
\def\ev{{\rm ev}}
\def\char{{\rm char}}

%%%%%%%%%%%%%%%%%%%%%
% Table of contents %
%%%%%%%%%%%%%%%%%%%%%

\hypersetup{linktocpage}
\setcounter{tocdepth}{0}
\setlength{\cftchapnumwidth}{0pt}
\renewcommand{\cftchappresnum}{\chaptername\ }
\renewcommand{\cftchapaftersnum}{}
\renewcommand{\cftchapaftersnumb}{\newline}
\renewcommand{\cftchapdotsep}{\cftdotsep}
\newcommand*{\romantableofcontents}{
    \hfuzz 1000pt % Disable overfull hbox error
    \newpage
    \pagenumbering{roman}
    \tableofcontents
    \newpage
    \pagenumbering{arabic}
    \hfuzz 0pt % Re-enable overfull hbox error
}

%%%%%%%%%%%%%%%%%%%%%%%%
% Miscellaneous config %
%%%%%%%%%%%%%%%%%%%%%%%%

\titleformat{\chapter}[display]
{\bfseries\Huge} % format
{\chaptertitlename\ \thechapter} % label
{0ex}{
    \Large
    \textit
}{\vspace{0ex}}

\titlespacing*{\chapter}
{0pt}{-30pt}{30pt}

% Break equations across pages
\allowdisplaybreaks

% Adjusts section styling
\renewcommand*{\thesection}{\arabic{section}}
